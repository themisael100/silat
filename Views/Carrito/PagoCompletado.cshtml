@model Pedido

@{
    ViewData["Title"] = "Pago Completado";
}

<div class="container mt-5">
    <h2 class="mb-4">Gracias por su compra!</h2>
    <p class="lead">Hemos recibido un pago por un monto de @Model.Total.ToString("C")</p>

    <h3 class="mt-5">Detalle del pedido</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Numero de pedido</th>
                <th>Fecha</th>
                <th>Estado</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.PedidoId</td>
                <td>@Model.Fecha</td>
                <td>@Model.Estado</td>
                <td>@Model.Total.ToString("C")</td>
            </tr>
        </tbody>
    </table>

    <h3 class="mt-5">Detalle de los productos</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var detallepedido in ViewBag.DetallePedidos)
            {
                <tr>
                    <td>@detallepedido.Producto.Nombre</td>
                    <td>@detallepedido.Cantidad</td>
                    <td>@detallepedido.Precio</td>
                    @{
                        var subtotal = detallepedido.Cantidad * detallepedido.Precio;
                    }
                    <td>@subtotal.ToString("C")</td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3">Total:</th>
                <th>@Model.Total.ToString("C")</th>
            </tr>
        </tfoot>
    </table>
</div>